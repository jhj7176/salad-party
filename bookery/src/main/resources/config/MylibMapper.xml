<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
 <mapper namespace="co.salpa.bookery.model.MylibDao">
 	<select id="selectNoGoalBook" resultType="bookBean" parameterType="_int">
 		select coverurl, book.title, bid, pages from book,v_study where bid=book_bid and type is null and user_id=#{id}
 	</select>
 	<select id="countNoGoalBook" resultType="Integer" parameterType="_int">
 		select count(*) from (select title from v_study where type is null and user_id=#{id})c;
 	</select>
 	<select id="selectStudyingBook" resultType="bookBean" parameterType="_int">
 		select coverurl, book.title, bid from book,v_study where bid=book_bid and type is not null and progress_rate &lt; 100 and user_id=#{id}
 	</select>
 	<select id="countStudyingBook" resultType="Integer" parameterType="_int">
 		select count(*) from (select title from v_study where progress_rate &lt; 100 and type is not null and user_id=#{id})c
 	</select>
 	<select id="selectFinishedBook" resultType="BookBean" parameterType="_int">
 		select coverurl, book.title,bid from book,v_study where bid=book_bid and progress_rate=100 and user_id=#{id}
 	</select>
 	<select id="countFinishedBook" resultType="Integer" parameterType="_int">
 		select count(*) from (select title from v_study where progress_rate = 100 and user_id=#{id})c
 	</select>
 </mapper>